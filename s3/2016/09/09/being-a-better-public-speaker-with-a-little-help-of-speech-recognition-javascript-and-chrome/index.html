<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

<meta property="og:title" content="Being a better public speaker with a little help of Speech Recognition, Javascript and Chrome" />
<meta property="og:description" content="People who know what they are talking about don&#39;t need Powerpoint said Steve Jobs. Indeed, it may be useful from time to time to have a single slide to display key words. But what I understand from Jobs&#39;s sentence is that relying on the slides is a bad idea. Good stuff that machine learning can pilot the slides for us!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.owulveryck.info/2016/09/09/being-a-better-public-speaker-with-a-little-help-of-speech-recognition-javascript-and-chrome/index.html" />


<meta property="og:updated_time" content="2016-09-09T13:39:50&#43;02:00"/>











<meta itemprop="name" content="Being a better public speaker with a little help of Speech Recognition, Javascript and Chrome">
<meta itemprop="description" content="People who know what they are talking about don&#39;t need Powerpoint said Steve Jobs. Indeed, it may be useful from time to time to have a single slide to display key words. But what I understand from Jobs&#39;s sentence is that relying on the slides is a bad idea. Good stuff that machine learning can pilot the slides for us!">


<meta itemprop="dateModified" content="2016-09-09T13:39:50&#43;02:00" />
<meta itemprop="wordCount" content="867">



<meta itemprop="keywords" content="api,authentication,aws,bash,bdd,bootstrap,bundler,choreography,chrome,chromebook,config-management,configuration,cordova,cucumber,d3js,development,digraph,documentation,ec2,eigenvectors,getopts,gherkin,go,golang,gopherjs,graph-theory,http,ia,javascript,jquery,json,keystone,khoreia,ksh,libusb,linear-regression,linux,machine-learning,man,markov-model,msgpack,octave,openstack,orchestration,oregon-rms300,r,raspberry-pi,rest,revealjs,ruby,rvm,shell,simple-iaas,slides,spa,speech-recognition,swagger,topology,tosca,udev,udt,vagrant,weather-station,webcam,websocket,webui,zmq,application-deployment,bdd,topic-1,tosca,udt,wed-ui," />



  <meta name="twitter:card" content="summary"/>



<meta name="twitter:title" content="Being a better public speaker with a little help of Speech Recognition, Javascript and Chrome"/>
<meta name="twitter:description" content="People who know what they are talking about don&#39;t need Powerpoint said Steve Jobs. Indeed, it may be useful from time to time to have a single slide to display key words. But what I understand from Jobs&#39;s sentence is that relying on the slides is a bad idea. Good stuff that machine learning can pilot the slides for us!"/>
<meta name="twitter:site" content="@owulveryck"/>









<meta name="generator" content="Hugo 0.18.1" />


    <link rel="canonical" href="https://blog.owulveryck.info/2016/09/09/being-a-better-public-speaker-with-a-little-help-of-speech-recognition-javascript-and-chrome/index.html">

    <title>Being a better public speaker with a little help of Speech Recognition, Javascript and Chrome | Olivier Wulveryck&#39;s Tech Blog</title>

    <!-- combined, minified CSS -->
    <link href="https://blog.owulveryck.info/css/style.css" rel="stylesheet">

    

    
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-69673850-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>


    

    

  </head>

  <body>

    <div class="blog-masthead">
      <div class="container">
        <nav class="nav blog-nav">
          <a class="nav-link " href="https://blog.owulveryck.info/">Home</a>
          
          
          <a class="nav-link" href="https://blog.owulveryck.info/about.html">About me</a>
          
          
        </nav>
      </div>
    </div>

    <header class="blog-header">
      <div class="container">
        <h1 class="blog-title"><a href="https://blog.owulveryck.info/" rel="home">Olivier Wulveryck's Tech Blog</a></h1>
        
      </div>
    </header>

    <div class="container">
      <div class="row">
        <div class="col-sm-8 blog-main">

          


<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="https://blog.owulveryck.info/2016/09/09/being-a-better-public-speaker-with-a-little-help-of-speech-recognition-javascript-and-chrome/index.html">Being a better public speaker with a little help of Speech Recognition, Javascript and Chrome</a></h2>
    <p class="blog-post-meta"><time datetime="2016-09-09T13:39:50&#43;02:00">Fri Sep 9, 2016</time> by Olivier Wulveryck in 

<i class="fa fa-tag" aria-hidden="true"></i>&nbsp;<a href="/tags/chrome" rel="tag">chrome</a>, <a href="/tags/speech-recognition" rel="tag">speech recognition</a>, <a href="/tags/javascript" rel="tag">Javascript</a>, <a href="/tags/revealjs" rel="tag">revealjs</a>, <a href="/tags/slides" rel="tag">slides</a>

</p>
  </header>
  

<h1 id="introduction">Introduction</h1>

<p>I usually don&rsquo;t like slidewares.</p>

<p>Actually as IT engineer working, by now, exclusively in France, I&rsquo;m facing the PowerPoint problem:</p>

<ul>
<li>Too many boring slides,</li>
<li>too much information per slide,</li>
<li>a presenter dedicated to read their content.</li>
</ul>

<p>Therefore, the audience is watching its watch while waiting for a coffee break.</p>

<p>I won&rsquo;t redo the introduction I already did in a <a href="/2016/06/23/websockets-reveal.js-d3-and-go-for-a-dynamic-keynote/index.html">previous post</a> but indeed slides can,
from time to time, be a value-add to a presentation.</p>

<p>Is the previous post, I introduced reveal.js, this excellent javascript framework. And I already did an interactive presentation.</p>

<p>In this post, I will go a little bit further with the integration of Speech Recognition.</p>

<h1 id="speech-recognition-by-google">Speech Recognition by Google</h1>

<h2 id="the-google-cloud-speech-api">The Google Cloud Speech API</h2>

<p>It ain&rsquo;t no secret now, I&rsquo;m a big fan of machine learning.
Machines learn faster than people, and they can now assist us in a lot of boring tasks.</p>

<p>On the base of a neuron network, Google provides an <a href="https://cloud.google.com/speech/">API for speech recognition</a>.
It is fairly complete and multi lingual.</p>

<h2 id="chrome-speech-recognition">Chrome speech recognition</h2>

<p>They &ldquo;<em>eat their own dog food</em>&rdquo; and use their engine for android and&hellip; Chrome.
Best of all, they provide a userland access via a Javascript API to this functionality in Chrome.</p>

<p>This means that you can develop a web page that will access you microphone, sends what you say to the Google cloud, get the result back and process it in your page.</p>

<p>You can see an introduction <a href="https://developers.google.com/web/updates/2013/01/Voice-Driven-Web-Apps-Introduction-to-the-Web-Speech-API">here</a></p>

<h1 id="what-can-i-use-that-for-a-case-study">What can I use that for: A case study?</h1>

<p>I had to do a presentation recently.
This presentation was about <em>Agility</em> and <em>Devops</em>. The main idea was to give my client a feedback about experiences I had regarding those principles in digital transformation.</p>

<p>I didn&rsquo;t want to loose my audience with slides. But I wanted to keep the key concepts alive and visible.</p>

<p>So what I did was a one slide presentation only with the keywords I wanted to talk about.</p>

<p>The day before, I though:</p>

<blockquote>
<p>&ldquo;How nice it would be if as far as I speak, the key concepts would appear on screen&hellip;&rdquo;</p>
</blockquote>

<p>You may think: <em>&ldquo;that&rsquo;s easy, learn your script and click on the right moment&rdquo;</em>.</p>

<p>Ok, but there are drawbacks:</p>

<ul>
<li>You have to learn the script</li>
<li>You cannot be spontaneous anymore</li>
<li>It&rsquo;s a one shot, one displayed, you cannot interact with the points anymore.</li>
</ul>

<p>What I need is &ldquo;an assistant&rdquo; that will <em>listen to me</em> and <em>act as soon as he/she/it hear a buzz word</em>.
It&rsquo;s 2016, this assistant is a machine, and I can teach it to act correctly.</p>

<p>Here is a little demo of the end product (don&rsquo;t pay to much attention to the content, I said nonsense for the demo)</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/MOmmBufEwPo" frameborder="0" allowfullscreen></iframe>

<p>And another one in French.</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/3Uyr0G0add4" frameborder="0" allowfullscreen></iframe>

<h1 id="the-implementation">The implementation</h1>

<h2 id="annyang">Annyang</h2>

<p>I have used the <a href="https://github.com/TalAter/annyang">annyang</a> which is a javascript wrapper for the Chrome speech recognition functionnality.</p>

<p>Instead of matching a sentence as explained in the example of annyang, I made it listen to my whole speech in a loop.
Then I passed every sentence detected by the framework to a javascript function that was applying regexp to look for keywords.</p>

<h3 id="displaying-words">Displaying words</h3>

<p>For every keyword I did a match to an object of my DOM and simply changed its <code>visibility</code> style from <code>hidden</code> to <code>visible</code></p>

<p>Here is the javascript code:</p>

<pre><code class="language-javascript">if (annyang) {
  annyang.debug(true);
  annyang.setLanguage('fr-FR');
  annyang.addCallback('result', function(phrases) {
  for (s of phrases) {
     str = s.toLowerCase();
     switch (str) {
        case (str.match(/communication/) || {}).input:nnyang.start();                                                                                              
        document.getElementById('communication').style.visibility = 'visible';
        ...
    // Start listening. You can call this here, or attach this call to an event, button, etc.
    annyang.start();       
    ...
</code></pre>

<p>And the corresponding html section for the communication keyword:</p>

<pre><code class="language-html">&lt;div class=&quot;reveal&quot;&gt;
  &lt;div class=&quot;slides&quot;&gt;
    &lt;section&gt;
      &lt;h3 style=&quot;visibility: visible&quot; id=&quot;agile&quot;&gt;Agile&lt;/h3&gt;
      &lt;p&gt; &lt;span style=&quot;visibility: hidden;&quot; id=&quot;communication&quot;&gt;communication&lt;/span&gt; &lt;/p&gt;            
</code></pre>

<p>The speech recognition engine detects the sentence and gives a confidence note about its recognition.
All the potential results are stored in an array (here <code>phrases</code>). I&rsquo;ve used them all so I was more confident not to miss a word.</p>

<h3 id="making-them-blink">Making them blink</h3>

<p>As I was not fully confident in the solution (it was late in the night and the show was the next morning), Therefore I made a fall-back solution.
All the words were displayed, and I used a little CSS tweak to make them blink when they were pronounced.
This was done by adding and removing a css class to the concerned node.
The logic remains the same.</p>

<pre><code class="language-css">/* Chrome &amp; Safari */
@-webkit-keyframes blink {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.blink {
  -webkit-animation: blink 750ms 2;
}
</code></pre>

<pre><code class="language-Javascript">case (str.match(/communication/) || {}).input:                                                                                       
   document.getElementById(&quot;b_communication&quot;).classList.toggle('blink');
   setTimeout(function () {
     document.getElementById(&quot;b_communication&quot;).classList.remove('blink');
   }, 1500);
   break;
</code></pre>

<h1 id="conclusion-and-todo">Conclusion and TODO</h1>

<p>The speech recognition engine is efficient and usable.
What I need to do is to code a tiny javascript library in order to get a JSON associative array between the list of spoken words that would trigger an action for an element for example:</p>

<pre><code class="language-json">{
  &quot;tag&quot;: &quot;communication&quot;,
  &quot;words&quot;: [&quot;communication&quot;, &quot;communicate&quot;],
  &quot;fuction&quot;: &quot;blink&quot;
}
</code></pre>

<p>Anyway, as a quick and dirty solution, the goal is achieved.</p>

<p>Another Idea would be to plug this with a NLP engine to perform stemming or lemmatization to do a better decoding and be even more machine learning compliant. This could be done with the help of <a href="https://github.com/mit-nlp/MITIE">MITIE</a></p>


  
  
  <hr>
<footer>
  <header>
    <h4>Share</h4>
  </header>
  <nav class="nav nav-inline">
    <a class="nav-item" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.owulveryck.info%2f2016%2f09%2f09%2fbeing-a-better-public-speaker-with-a-little-help-of-speech-recognition-javascript-and-chrome%2findex.html" title="Share on Facebook"><span class="fa fa-facebook fa-2x" aria-hidden="true"></span></a>
    <a class="nav-item" href="https://plus.google.com/share?url=https%3a%2f%2fblog.owulveryck.info%2f2016%2f09%2f09%2fbeing-a-better-public-speaker-with-a-little-help-of-speech-recognition-javascript-and-chrome%2findex.html" title="Share on Google+"><span class="fa fa-google-plus fa-2x" aria-hidden="true"></span></a>
    <a class="nav-item" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblog.owulveryck.info%2f2016%2f09%2f09%2fbeing-a-better-public-speaker-with-a-little-help-of-speech-recognition-javascript-and-chrome%2findex.html" title="Share on LinkedIn"><span class="fa fa-linkedin fa-2x" aria-hidden="true"></span></a>
    <a class="nav-item" href="https://twitter.com/home?status=https%3a%2f%2fblog.owulveryck.info%2f2016%2f09%2f09%2fbeing-a-better-public-speaker-with-a-little-help-of-speech-recognition-javascript-and-chrome%2findex.html" title="Tweet this"><span class="fa fa-twitter fa-2x"></span></a>
  </nav>
</footer>

  
</article> 



<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
  
  
  if (window.location.hostname == "localhost")
    return;

  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  var disqus_shortname = 'owulveryck';
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>





        </div> <!-- /.blog-main -->

        <aside class="col-sm-3 offset-sm-1 blog-sidebar">
  
  <section class="sidebar-module sidebar-module-inset">
    <h4>About</h4>
    <p>Olivier Wulveryck&rsquo;s Tech Blog</p>
  </section>
  

  

  <section class="sidebar-module">
    <h4>Recent Posts</h4>
    <ol class="list-unstyled">
      
      <li><a href="/2016/12/16/image-rekognition-with-a-webcam-go-and-aws./index.html">Image reKognition with a webcam, go and AWS.</a></li>
      
      <li><a href="/2016/10/19/spa-with-gopherjs/index.html">SPA with Gopherjs</a></li>
      
      <li><a href="/2016/10/17/http-over-udt-for-inter-region-file-transfer/index.html">HTTP over UDT for inter-region file transfer</a></li>
      
      <li><a href="/2016/09/11/processing-csv-files-with-golang-python-and-perl/index.html">Processing CSV files with golang, python and perl</a></li>
      
      <li><a href="/2016/09/09/being-a-better-public-speaker-with-a-little-help-of-speech-recognition-javascript-and-chrome/index.html">Being a better public speaker with a little help of Speech Recognition, Javascript and Chrome</a></li>
      
    </ol>
  </section>

  
</aside>


      </div> <!-- /.row -->
    </div> <!-- /.container -->

    <footer class="blog-footer">
      <p>
      
      All rights reserved - <sup>2015</sup>&frasl;<sub>2016</sub>
      
      </p>
      <p>
      <a href="#">Back to top</a>
      </p>
    </footer>

  </body>

</html>

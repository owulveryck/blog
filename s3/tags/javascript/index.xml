<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Javascript on Olivier Wulveryck&#39;s Tech Blog</title>
    <link>https://blog.owulveryck.info/tags/javascript.html</link>
    <description>Recent content in Javascript on Olivier Wulveryck&#39;s Tech Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <managingEditor>olivier.wulveryck@gmail.com (Olivier Wulveryck)</managingEditor>
    <webMaster>olivier.wulveryck@gmail.com (Olivier Wulveryck)</webMaster>
    <copyright>All rights reserved - 2015/2016</copyright>
    <lastBuildDate>Wed, 19 Oct 2016 07:24:51 +0200</lastBuildDate>
    <atom:link href="https://blog.owulveryck.info/tags/javascript.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>SPA with Gopherjs</title>
      <link>https://blog.owulveryck.info/2016/10/19/spa-with-gopherjs/index.html</link>
      <pubDate>Wed, 19 Oct 2016 07:24:51 +0200</pubDate>
      <author>olivier.wulveryck@gmail.com (Olivier Wulveryck)</author>
      <guid>https://blog.owulveryck.info/2016/10/19/spa-with-gopherjs/index.html</guid>
      <description>

&lt;h1 id=&#34;introduction&#34;&gt;Introduction&lt;/h1&gt;

&lt;p&gt;Single page application (SPA) are a standard when dealing with mobile apps.
Unfortunately, by now, JavaScript is the only programming language supported by a browser.&lt;/p&gt;

&lt;p&gt;Therefore, to code web UI it remains a must.&lt;/p&gt;

&lt;h2 id=&#34;life-of-an-ex-sysadmin-who-wants-to-code-a-web-app-getting-depressed&#34;&gt;Life of an ex sysadmin who wants to code a web app: getting depressed&lt;/h2&gt;

&lt;p&gt;To make the development easier, your friend, who is &amp;ldquo;web developer&amp;rdquo; will recommend you to use a marvelous framework.
Depending on the orientation of the wind, the moon or its reading, he will encourage you to use &lt;code&gt;reactjs&lt;/code&gt;, &lt;code&gt;angular&lt;/code&gt;, &lt;code&gt;ember&lt;/code&gt; or whatever exotic
tool.&lt;/p&gt;

&lt;p&gt;With some recommendation from my real friends and from Google, I&amp;rsquo;ve started an app based on &lt;a href=&#34;http://ionicframework.com/&#34;&gt;ionic&lt;/a&gt; which is based on &lt;a href=&#34;https://angularjs.org/&#34;&gt;angular&lt;/a&gt;.
As I did not know anything about angular, I&amp;rsquo;ve watched a (very good) &lt;a href=&#34;https://www.youtube.com/watch?v=i9MHigUZKEM&#34;&gt;introduction&lt;/a&gt; and followed the ionic tutorial.&lt;/p&gt;

&lt;p&gt;So far so good&amp;hellip;&lt;/p&gt;

&lt;p&gt;Then I implemented a SSO with Facebook. I wrote a backend in &lt;code&gt;go&lt;/code&gt; to handle the token generation and the used database connection.
I started to code it by hand, until a friend tells me about the angular module &lt;a href=&#34;https://github.com/sahat/satellizer&#34;&gt;Satellizer&lt;/a&gt; that was suppose to handle the logic for me.
And it did&amp;hellip;. It was suddenly automagic:&lt;/p&gt;

&lt;p&gt;Everything was working on my browser. I was happy, So I decided to deploy my app on my iPhone and enjoy the power of Cordova.&lt;/p&gt;

&lt;p&gt;That&amp;rsquo;s when the headache started: There was something wrong on the mobile phone version. A bug!&lt;/p&gt;

&lt;p&gt;I tried to debug it, with Xcode, with Safari&amp;hellip; The more I was searching, the more I had to dive into the framework. Too many magic in it for
something that was, in fine, not a bug &lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:1&#34;&gt;&lt;a rel=&#34;footnote&#34; href=&#34;#fn:1&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;p&gt;I asked some help from a friend and his first reply was: &amp;ldquo;which version of angular? Because in version 2 they have changed a lot of concepts&amp;rdquo;&lt;/p&gt;

&lt;p&gt;That was too much.
I considered that this world made of JavaScript, frameworks, grunt, bower, gulp, npm or whatever fancy tool was definitely not for me.
Too many work to learn something already outdated.&lt;/p&gt;

&lt;p&gt;On top of that, I&amp;rsquo;ve never been a callback man, I hate them since my X11/Motif programming course. I do like CSP!&lt;/p&gt;

&lt;h2 id=&#34;out-of-the-depression&#34;&gt;Out of the depression!&lt;/h2&gt;

&lt;p&gt;Ok, I abandoned those tools. But I still want to code my app, and I&amp;rsquo;m not the kind of guy that easily give up.&lt;/p&gt;

&lt;p&gt;Let&amp;rsquo;s resume my needs:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;I need a MVC, because it&amp;rsquo;s the most natural way to code web ui today&lt;/li&gt;
&lt;li&gt;MVC is not framework dependent&lt;/li&gt;
&lt;li&gt;A SPA is the good choice for a mobile app and Cordova makes things easy&lt;/li&gt;
&lt;li&gt;Javascript is mandatory&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I&amp;rsquo;ve digge a little bit and I&amp;rsquo;ve found this blog post: &lt;a href=&#34;https://mmikowski.github.io/no-frameworks/&#34;&gt;Do you really want an SPA framework?&lt;/a&gt; which leads me to &amp;ldquo;the solution&amp;rdquo;:&lt;/p&gt;

&lt;p&gt;I will code my model/view/controller from scratch.
But as I want to preserve my health and stay away from Javacript, I will code it with something fun: go.&lt;/p&gt;

&lt;p&gt;At the last doGo.eu &lt;a href=&#34;https://twitter.com/shurcool&#34;&gt;Dmitri Shuralyov&lt;/a&gt; gave a very good introduction about &lt;a href=&#34;https://github.com/gopherjs/gopherjs&#34;&gt;gopherjs&lt;/a&gt;. Gopherjs is a &lt;a href=&#34;https://en.wikipedia.org/wiki/Source-to-source_compiler&#34;&gt;transpiler&lt;/a&gt; that converts go code into javascript.&lt;/p&gt;

&lt;p&gt;You can code all your logic in go and transpile it in javascript, or you can use is to access you DOM or other javascript libraries.&lt;/p&gt;

&lt;p&gt;A bunch of bindings to famous javascript libraries such as jQuery already exists on gihtub,&lt;/p&gt;

&lt;p&gt;Let&amp;rsquo;s see an example and implement a very basic routing mechanism relying on a pure js library.&lt;/p&gt;

&lt;h1 id=&#34;examples&#34;&gt;Examples&lt;/h1&gt;

&lt;p&gt;I will code a little page based on bootstrap.&lt;/p&gt;

&lt;h2 id=&#34;a-basic-go-code&#34;&gt;A basic go code&lt;/h2&gt;

&lt;p&gt;The dynamic part will be coded in pure GO in a file called &lt;code&gt;main.go&lt;/code&gt; and transpiled into javscript code with the help of the &lt;code&gt;gopherjs&lt;/code&gt; command:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;gopherjs build main.go -o js/app.js -m
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To make things easier, I can add some directives in my go code in the form of a comment:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package main
//go:generate gopherjs build main.go -o js/app.js -m
// +build ignore

import (
  &amp;quot;log&amp;quot;
)

func main() {
    log.Println(&amp;quot;Hello World&amp;quot;)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Therefore I will be able to generate my code directly with a simple call to &lt;code&gt;go generate&lt;/code&gt; and it will produce the &lt;code&gt;js/app.js&lt;/code&gt; file for me.&lt;/p&gt;

&lt;h2 id=&#34;the-page&#34;&gt;The page&lt;/h2&gt;

&lt;p&gt;The structure of the main page is taken from bootstrap&amp;rsquo;s &lt;a href=&#34;http://getbootstrap.com/examples/starter-template/#&#34;&gt;starter template&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I simply add my javascript file generated with gopherjs :&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;script src=&amp;quot;js/app.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If I launch my page, I will have a &amp;ldquo;hello world&amp;rdquo; written in the javascript browser of my console.&lt;/p&gt;

&lt;h1 id=&#34;the-spa&#34;&gt;the SPA&lt;/h1&gt;

&lt;p&gt;Now, I will implement a very basic SPA.
It will display three tabs accessible by their names (for demo purpose):&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.owulveryck.info/#&#34;&gt;/#&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.owulveryck.info/#about&#34;&gt;/#about&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.owulveryck.info/#contact&#34;&gt;/#contact&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I want to trigger a javascript code that could change the content of the body by clicking on the links.&lt;/p&gt;

&lt;h2 id=&#34;routing&#34;&gt;Routing&lt;/h2&gt;

&lt;p&gt;A good SPA needs a good routing system to deal with anchor refs.&lt;/p&gt;

&lt;p&gt;There are several implementation of gopherjs based routing mechanism.&lt;/p&gt;

&lt;p&gt;But, for the purpose of this blog post, I will use a pure Javascript routing library: &lt;a href=&#34;https://github.com/flatiron/director#routing-table&#34;&gt;Director.js&lt;/a&gt;. It&amp;rsquo;s the router used in the todoMVC example and it will allow me to show how to interact with global javascript objects.&lt;/p&gt;

&lt;p&gt;The first thing to do is to include the js file at the end of the &lt;code&gt;index.html&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;script src=&amp;quot;js/director.min.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script src=&amp;quot;js/app.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then I will create a GO type &lt;em&gt;Router&lt;/em&gt; that will correspond to the Router objet in javascript.
To do so, the Router type must be a &lt;a href=&#34;https://godoc.org/github.com/gopherjs/gopherjs/js#Object&#34;&gt;*js.Object&lt;/a&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;import &amp;quot;github.com/gopherjs/gopherjs/js&amp;quot;

type Router struct {
    *js.Object
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then I define a constructor, that simply get the router object from the global scope of the javascript engine:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func NewRouter() *Router {
    return &amp;amp;Router{js.Global.Get(&amp;quot;Router&amp;quot;).New()}
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then, to actually implement my &lt;a href=&#34;https://github.com/flatiron/director#adhoc-routing&#34;&gt;adhoc-routing&lt;/a&gt; as described in the doc of director.js,
I must implement the &lt;code&gt;on&lt;/code&gt; and the &lt;code&gt;init&lt;/code&gt; bindings.&lt;/p&gt;

&lt;p&gt;Once done, I add the routes in my &lt;code&gt;main&lt;/code&gt; func:&lt;/p&gt;

&lt;script src=&#34;//gist.github.com/owulveryck/3256d582ad2241eeeaf118d5bf9c1cd0.js?file=router.go&#34;&gt;&lt;/script&gt;

&lt;p&gt;If I launch the page, I can now click on the links and it will diplay hello in my console.&lt;/p&gt;

&lt;p&gt;You can check the full code on &lt;a href=&#34;https://gist.github.com/owulveryck/3256d582ad2241eeeaf118d5bf9c1cd0&#34;&gt;this gist&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You see that I&amp;rsquo;ve let the function as &lt;code&gt;notImplementedYet&lt;/code&gt;, but replacing it with a jQuery call is trivial:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;import &amp;quot;github.com/gopherjs/jquery&amp;quot;

//convenience:
var jQuery = jquery.NewJQuery

func content() {
    jQuery(&amp;quot;#main&amp;quot;).SetText(&amp;quot;Welcome to GopherJS&amp;quot;)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h1&gt;

&lt;p&gt;Gopherjs is not trivial, but it has the ability to make the web development more structured.
I&amp;rsquo;ve started a web ui from scratch and reach the same goal as the one I reached in javacript in only 2 days (compared to 3 weeks).&lt;/p&gt;

&lt;p&gt;Of course, a javascript-master-of-the-world would argue that he would implement it in 2 hours, but that&amp;rsquo;s not the point here.
The point is that I can use all the &amp;ldquo;benefits&amp;rdquo; of the go principles easily to write a web ui.&lt;/p&gt;

&lt;p&gt;You can check the development of the &lt;a href=&#34;https://github.com/nhite/frontend&#34;&gt;Nhite fronted&lt;/a&gt; to watch the progress I will make (or not) with this technology.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;1 - Actually, I figured out what the &amp;ldquo;bug&amp;rdquo; was later, when I finished the implementation in go and there was no magic anymore in the code.
The oauth2 flow I use is &amp;ldquo;&lt;a href=&#34;https://tools.ietf.org/html/rfc6749#section-1.3.1&#34;&gt;Authorization code&lt;/a&gt;&amp;rdquo;. In this flow, you query the authorization server (here facebook) and send it the client identifier and &lt;em&gt;a redirection URI&lt;/em&gt;.
In my dev environment this redirection URI is set to &amp;ldquo;&lt;a href=&#34;http://localhost&amp;quot;&#34;&gt;http://localhost&amp;quot;&lt;/a&gt;. Once the user is logged in (on the Facebook page), the navigation window redirects him in the application at localhost.
When running on iOS with &lt;em&gt;cordova&lt;/em&gt; the files are served locally (file://,,,) and there is no way to specify a redirect URI that point to file://, therefore the redirect URI must point somewhere else&amp;hellip; but in this case, getting the code from the application becomes tricky because of the security policies. I could do a complete blog post about this.&lt;/p&gt;
&lt;div class=&#34;footnotes&#34;&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt; &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:1&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Being a better public speaker with a little help of Speech Recognition, Javascript and Chrome</title>
      <link>https://blog.owulveryck.info/2016/09/09/being-a-better-public-speaker-with-a-little-help-of-speech-recognition-javascript-and-chrome/index.html</link>
      <pubDate>Fri, 09 Sep 2016 13:39:50 +0200</pubDate>
      <author>olivier.wulveryck@gmail.com (Olivier Wulveryck)</author>
      <guid>https://blog.owulveryck.info/2016/09/09/being-a-better-public-speaker-with-a-little-help-of-speech-recognition-javascript-and-chrome/index.html</guid>
      <description>

&lt;h1 id=&#34;introduction&#34;&gt;Introduction&lt;/h1&gt;

&lt;p&gt;I usually don&amp;rsquo;t like slidewares.&lt;/p&gt;

&lt;p&gt;Actually as IT engineer working, by now, exclusively in France, I&amp;rsquo;m facing the PowerPoint problem:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Too many boring slides,&lt;/li&gt;
&lt;li&gt;too much information per slide,&lt;/li&gt;
&lt;li&gt;a presenter dedicated to read their content.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Therefore, the audience is watching its watch while waiting for a coffee break.&lt;/p&gt;

&lt;p&gt;I won&amp;rsquo;t redo the introduction I already did in a &lt;a href=&#34;https://blog.owulveryck.info/2016/06/23/websockets-reveal.js-d3-and-go-for-a-dynamic-keynote/index.html&#34;&gt;previous post&lt;/a&gt; but indeed slides can,
from time to time, be a value-add to a presentation.&lt;/p&gt;

&lt;p&gt;Is the previous post, I introduced reveal.js, this excellent javascript framework. And I already did an interactive presentation.&lt;/p&gt;

&lt;p&gt;In this post, I will go a little bit further with the integration of Speech Recognition.&lt;/p&gt;

&lt;h1 id=&#34;speech-recognition-by-google&#34;&gt;Speech Recognition by Google&lt;/h1&gt;

&lt;h2 id=&#34;the-google-cloud-speech-api&#34;&gt;The Google Cloud Speech API&lt;/h2&gt;

&lt;p&gt;It ain&amp;rsquo;t no secret now, I&amp;rsquo;m a big fan of machine learning.
Machines learn faster than people, and they can now assist us in a lot of boring tasks.&lt;/p&gt;

&lt;p&gt;On the base of a neuron network, Google provides an &lt;a href=&#34;https://cloud.google.com/speech/&#34;&gt;API for speech recognition&lt;/a&gt;.
It is fairly complete and multi lingual.&lt;/p&gt;

&lt;h2 id=&#34;chrome-speech-recognition&#34;&gt;Chrome speech recognition&lt;/h2&gt;

&lt;p&gt;They &amp;ldquo;&lt;em&gt;eat their own dog food&lt;/em&gt;&amp;rdquo; and use their engine for android and&amp;hellip; Chrome.
Best of all, they provide a userland access via a Javascript API to this functionality in Chrome.&lt;/p&gt;

&lt;p&gt;This means that you can develop a web page that will access you microphone, sends what you say to the Google cloud, get the result back and process it in your page.&lt;/p&gt;

&lt;p&gt;You can see an introduction &lt;a href=&#34;https://developers.google.com/web/updates/2013/01/Voice-Driven-Web-Apps-Introduction-to-the-Web-Speech-API&#34;&gt;here&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&#34;what-can-i-use-that-for-a-case-study&#34;&gt;What can I use that for: A case study?&lt;/h1&gt;

&lt;p&gt;I had to do a presentation recently.
This presentation was about &lt;em&gt;Agility&lt;/em&gt; and &lt;em&gt;Devops&lt;/em&gt;. The main idea was to give my client a feedback about experiences I had regarding those principles in digital transformation.&lt;/p&gt;

&lt;p&gt;I didn&amp;rsquo;t want to loose my audience with slides. But I wanted to keep the key concepts alive and visible.&lt;/p&gt;

&lt;p&gt;So what I did was a one slide presentation only with the keywords I wanted to talk about.&lt;/p&gt;

&lt;p&gt;The day before, I though:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&amp;ldquo;How nice it would be if as far as I speak, the key concepts would appear on screen&amp;hellip;&amp;rdquo;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;You may think: &lt;em&gt;&amp;ldquo;that&amp;rsquo;s easy, learn your script and click on the right moment&amp;rdquo;&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Ok, but there are drawbacks:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;You have to learn the script&lt;/li&gt;
&lt;li&gt;You cannot be spontaneous anymore&lt;/li&gt;
&lt;li&gt;It&amp;rsquo;s a one shot, one displayed, you cannot interact with the points anymore.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;What I need is &amp;ldquo;an assistant&amp;rdquo; that will &lt;em&gt;listen to me&lt;/em&gt; and &lt;em&gt;act as soon as he/she/it hear a buzz word&lt;/em&gt;.
It&amp;rsquo;s 2016, this assistant is a machine, and I can teach it to act correctly.&lt;/p&gt;

&lt;p&gt;Here is a little demo of the end product (don&amp;rsquo;t pay to much attention to the content, I said nonsense for the demo)&lt;/p&gt;

&lt;iframe width=&#34;560&#34; height=&#34;315&#34; src=&#34;https://www.youtube.com/embed/MOmmBufEwPo&#34; frameborder=&#34;0&#34; allowfullscreen&gt;&lt;/iframe&gt;

&lt;p&gt;And another one in French.&lt;/p&gt;

&lt;iframe width=&#34;560&#34; height=&#34;315&#34; src=&#34;https://www.youtube.com/embed/3Uyr0G0add4&#34; frameborder=&#34;0&#34; allowfullscreen&gt;&lt;/iframe&gt;

&lt;h1 id=&#34;the-implementation&#34;&gt;The implementation&lt;/h1&gt;

&lt;h2 id=&#34;annyang&#34;&gt;Annyang&lt;/h2&gt;

&lt;p&gt;I have used the &lt;a href=&#34;https://github.com/TalAter/annyang&#34;&gt;annyang&lt;/a&gt; which is a javascript wrapper for the Chrome speech recognition functionnality.&lt;/p&gt;

&lt;p&gt;Instead of matching a sentence as explained in the example of annyang, I made it listen to my whole speech in a loop.
Then I passed every sentence detected by the framework to a javascript function that was applying regexp to look for keywords.&lt;/p&gt;

&lt;h3 id=&#34;displaying-words&#34;&gt;Displaying words&lt;/h3&gt;

&lt;p&gt;For every keyword I did a match to an object of my DOM and simply changed its &lt;code&gt;visibility&lt;/code&gt; style from &lt;code&gt;hidden&lt;/code&gt; to &lt;code&gt;visible&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Here is the javascript code:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;if (annyang) {
  annyang.debug(true);
  annyang.setLanguage(&#39;fr-FR&#39;);
  annyang.addCallback(&#39;result&#39;, function(phrases) {
  for (s of phrases) {
     str = s.toLowerCase();
     switch (str) {
        case (str.match(/communication/) || {}).input:nnyang.start();                                                                                              
        document.getElementById(&#39;communication&#39;).style.visibility = &#39;visible&#39;;
        ...
    // Start listening. You can call this here, or attach this call to an event, button, etc.
    annyang.start();       
    ...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And the corresponding html section for the communication keyword:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;div class=&amp;quot;reveal&amp;quot;&amp;gt;
  &amp;lt;div class=&amp;quot;slides&amp;quot;&amp;gt;
    &amp;lt;section&amp;gt;
      &amp;lt;h3 style=&amp;quot;visibility: visible&amp;quot; id=&amp;quot;agile&amp;quot;&amp;gt;Agile&amp;lt;/h3&amp;gt;
      &amp;lt;p&amp;gt; &amp;lt;span style=&amp;quot;visibility: hidden;&amp;quot; id=&amp;quot;communication&amp;quot;&amp;gt;communication&amp;lt;/span&amp;gt; &amp;lt;/p&amp;gt;            
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The speech recognition engine detects the sentence and gives a confidence note about its recognition.
All the potential results are stored in an array (here &lt;code&gt;phrases&lt;/code&gt;). I&amp;rsquo;ve used them all so I was more confident not to miss a word.&lt;/p&gt;

&lt;h3 id=&#34;making-them-blink&#34;&gt;Making them blink&lt;/h3&gt;

&lt;p&gt;As I was not fully confident in the solution (it was late in the night and the show was the next morning), Therefore I made a fall-back solution.
All the words were displayed, and I used a little CSS tweak to make them blink when they were pronounced.
This was done by adding and removing a css class to the concerned node.
The logic remains the same.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-css&#34;&gt;/* Chrome &amp;amp; Safari */
@-webkit-keyframes blink {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.blink {
  -webkit-animation: blink 750ms 2;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-Javascript&#34;&gt;case (str.match(/communication/) || {}).input:                                                                                       
   document.getElementById(&amp;quot;b_communication&amp;quot;).classList.toggle(&#39;blink&#39;);
   setTimeout(function () {
     document.getElementById(&amp;quot;b_communication&amp;quot;).classList.remove(&#39;blink&#39;);
   }, 1500);
   break;
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;conclusion-and-todo&#34;&gt;Conclusion and TODO&lt;/h1&gt;

&lt;p&gt;The speech recognition engine is efficient and usable.
What I need to do is to code a tiny javascript library in order to get a JSON associative array between the list of spoken words that would trigger an action for an element for example:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{
  &amp;quot;tag&amp;quot;: &amp;quot;communication&amp;quot;,
  &amp;quot;words&amp;quot;: [&amp;quot;communication&amp;quot;, &amp;quot;communicate&amp;quot;],
  &amp;quot;fuction&amp;quot;: &amp;quot;blink&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Anyway, as a quick and dirty solution, the goal is achieved.&lt;/p&gt;

&lt;p&gt;Another Idea would be to plug this with a NLP engine to perform stemming or lemmatization to do a better decoding and be even more machine learning compliant. This could be done with the help of &lt;a href=&#34;https://github.com/mit-nlp/MITIE&#34;&gt;MITIE&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Websockets, Reveal.js, D3 and GO for a dynamic keynote</title>
      <link>https://blog.owulveryck.info/2016/06/23/websockets-reveal.js-d3-and-go-for-a-dynamic-keynote/index.html</link>
      <pubDate>Thu, 23 Jun 2016 15:32:54 +0200</pubDate>
      <author>olivier.wulveryck@gmail.com (Olivier Wulveryck)</author>
      <guid>https://blog.owulveryck.info/2016/06/23/websockets-reveal.js-d3-and-go-for-a-dynamic-keynote/index.html</guid>
      <description>

&lt;h1 id=&#34;the-goal&#34;&gt;the goal&lt;/h1&gt;

&lt;p&gt;As all my peers, I have the opportunity to talk about different technological aspects.
As all my peers, I&amp;rsquo;m asked to present a bunch of slides (powerpoint or keynote, or whatever).&lt;/p&gt;

&lt;p&gt;In this post I won&amp;rsquo;t dig into what&amp;rsquo;s good or not to put in a presentation, and if that&amp;rsquo;s what interest you, I
recommend you to take a look at &lt;a href=&#34;http://www.presentationzen.com/&#34;&gt;Garr Reynold&amp;rsquo;s tips and tricks&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Steve Jobs&lt;/em&gt; said:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;People who knows what they&amp;rsquo;re talking about don&amp;rsquo;t need PowerPoint&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;(actually it has been quoted in Walter Isaacson&amp;rsquo;s biography see &lt;a href=&#34;http://blog.jgc.org/2011/11/people-who-know-what-theyre-talking.html&#34;&gt;this reference&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;As an attendee I tend to agree; usually PowerPoints are boring and they hardly give any interest besides for the writer to say &amp;ldquo;hey look, I&amp;rsquo;ve worked for this presentation&amp;rdquo;.&lt;/p&gt;

&lt;p&gt;Indeed, they are a must. So for my next presentation I thought:&lt;/p&gt;

&lt;p&gt;wouldn&amp;rsquo;t it be nice to use this wide display area to make the presentation more interactive.
One of the key point in communication is to federate people. So what if people could get represented for real in the presentation.&lt;/p&gt;

&lt;h2 id=&#34;how-to-the-architecture&#34;&gt;how to: the architecture&lt;/h2&gt;

&lt;p&gt;Obviously I cannot use conventional tools, such as PowerPoint, Keynote, Impress, google slides and so.
I need something that I can program; something that can interact with a server, and something that is not a console so I can get
fancy and eye-candy animations.&lt;/p&gt;

&lt;h3 id=&#34;the-basic&#34;&gt;The basic&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;http://lab.hakim.se/reveal-js/&#34;&gt;reveal.js&lt;/a&gt; is an almost perfect candidate:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;it is a framework written in JavaScript therefore, I can easily ass code&lt;/li&gt;
&lt;li&gt;it&amp;rsquo;s well designed&lt;/li&gt;
&lt;li&gt;it can be used alongside with any other JavaScript framework&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;graphs-animations-etc&#34;&gt;Graphs, animations, etc&amp;hellip;&lt;/h3&gt;

&lt;p&gt;A good presentation has animations, graphs, diagrams, and stuffs that cannot be expressed simply with words.
I will interact with the audience. I will explain how later, but anyway they will send me some data.
I could process them in whatever server-side application (php, go-template base, python) but I have the feeling that&amp;rsquo;s not
the idiomatic way of doing modern web content. Actually, I would need anyway to deal with device (mobile, desktop), screen size,
browser&amp;hellip; So what&amp;rsquo;s best, I think, is to get the data on the client side and process it via Javascript.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://d3js.org/&#34;&gt;Data Driver Documents&lt;/a&gt; is the framework I will use to process and display the data I will get from the client.&lt;/p&gt;

&lt;p&gt;It actually uses SVG to represent the graphs; I would have liked to use a full HTML5 to be more&amp;hellip; 2016, but the D3 is actually very very good
framework I wanted to use for a while.&lt;/p&gt;

&lt;h3 id=&#34;the-attendees&#34;&gt;The attendees&lt;/h3&gt;

&lt;p&gt;If I want the attendees to participate they need a device, to act as a client.
About all people I will talk to have a smartphone; that is what I will use.&lt;/p&gt;

&lt;p&gt;It has two advantages:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;it is their own device, I looks more realistic and unexpected: therefore I would get a better reception of the message I&amp;rsquo;m trying to pass.&lt;/li&gt;
&lt;li&gt;it usually has a Webkit based web browser with a decent Javascript engine.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I won&amp;rsquo;t develop a native app, instead I will a webpage mobile compliant based on the &lt;a href=&#34;http://getbootstrap.com/&#34;&gt;bootstrap&lt;/a&gt; framework.&lt;/p&gt;

&lt;h3 id=&#34;the-hub&#34;&gt;The HUB&lt;/h3&gt;

&lt;p&gt;The point now, is how to make my clients and my presentation to exchange data.
As I said before, I would not be an easy task to setup a pure browser based peer-to-peer communication, so I will fall
back to the traditional web server based hub.&lt;/p&gt;

&lt;p&gt;the first idea is to use a RESTfull mechanism, but this has the major disadvantage of not being real-timed.
What I would like is a communication HUB that would broadcast events as soon as they are reveived.&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;ve implemented a server in go to do so. The clients will talk to the server over websockets which are now natively present in every
modern browsers.&lt;/p&gt;

&lt;h4 id=&#34;the-server&#34;&gt;the server&lt;/h4&gt;

&lt;p&gt;I&amp;rsquo;ve used the &lt;a href=&#34;https://github.com/gorilla/websocket&#34;&gt;Implementation from gorilla&lt;/a&gt; because it seemed to be the best as of today.
It implements all the RFC and the development is up-to-date.&lt;/p&gt;

&lt;p&gt;The code heavily relies on channels to broadcast the messages between the different peers.
 I&amp;rsquo;ve taken the chat example present in the gorilla&amp;rsquo;s package.&lt;/p&gt;

&lt;p&gt;At first I did code all the mechanism is a simple go package. After a bunch of code, I&amp;rsquo;ve decided to split the code into two different
projects: The main presentation and the &lt;a href=&#34;http://github.com/owulveryck/gowmb&#34;&gt;gowmb&lt;/a&gt;. The gowmb package is usable in others projects.&lt;/p&gt;

&lt;h1 id=&#34;conclusion&#34;&gt;Conclusion.&lt;/h1&gt;

&lt;p&gt;I don&amp;rsquo;t go into the implementation details in this post, instead I will refer to the &lt;a href=&#34;https://github.com/owulveryck/topology-presentation&#34;&gt;github&lt;/a&gt;
repository where the presentation is hosted.&lt;/p&gt;

&lt;p&gt;By now I have a good animated slideshow, and the ability to join the slides with a mobile phone.
I can also draw a topology of the attendees via D3 and interact with them.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
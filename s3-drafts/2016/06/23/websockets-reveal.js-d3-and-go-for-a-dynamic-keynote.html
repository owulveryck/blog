<!DOCTYPE html>
<html lang="en-us" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Websockets, Reveal.js, D3 and GO for a dynamic keynote - Unladen swallow</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="Olivier Wulveryck" /><meta name="description" content="Playing with websocket for a dynamic presentation." />







<meta name="generator" content="Hugo 0.48" />


<link rel="canonical" href="https://blog.owulveryck.info/2016/06/23/websockets-reveal.js-d3-and-go-for-a-dynamic-keynote.html" />



<link rel="icon" href="/favicon.ico" />









<link href="/dist/jane.min.css?v=2.7.0" rel="stylesheet">



<link rel="stylesheet" href="/css/syntax.css">


<meta property="og:title" content="Websockets, Reveal.js, D3 and GO for a dynamic keynote" />
<meta property="og:description" content="Playing with websocket for a dynamic presentation." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.owulveryck.info/2016/06/23/websockets-reveal.js-d3-and-go-for-a-dynamic-keynote.html" /><meta property="article:published_time" content="2016-06-23T15:32:54&#43;02:00"/>
<meta property="article:modified_time" content="2016-06-23T15:32:54&#43;02:00"/>
<meta itemprop="name" content="Websockets, Reveal.js, D3 and GO for a dynamic keynote">
<meta itemprop="description" content="Playing with websocket for a dynamic presentation.">


<meta itemprop="datePublished" content="2016-06-23T15:32:54&#43;02:00" />
<meta itemprop="dateModified" content="2016-06-23T15:32:54&#43;02:00" />
<meta itemprop="wordCount" content="770">



<meta itemprop="keywords" content="websocket,bootstrap,golang,revealjs,Javascript,D3js," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Websockets, Reveal.js, D3 and GO for a dynamic keynote"/>
<meta name="twitter:description" content="Playing with websocket for a dynamic presentation."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-69673850-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


       <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Droid Sans" type="text/css" media="all" />
     
       <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Fira Mono" type="text/css" media="all" />
     

 <style>
 body {
     font-family: 'Droid Sans';
 }
 code {
    font-family: 'Fira Mono';
 }
 </style>




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Unladen swallow</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://about.me/owulveryck" rel="noopener" target="_blank">
              About the Author
              <i class="iconfont icon-new-window"></i>
            </a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://blog.owulveryck.info/">Home</a>
          
        
      </li>
    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      Unladen swallow
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
      <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://about.me/owulveryck" rel="noopener" target="_blank">
              About the Author
            <i class="iconfont icon-new-window"></i>
            </a>
          

        

      </li>
    
      <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://blog.owulveryck.info/">Home</a>
          

        

      </li>
    
    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">Websockets, Reveal.js, D3 and GO for a dynamic keynote</h1>
      
      <div class="post-meta">
        <span class="post-time"> 2016-06-23 </span>
        
        <span class="more-meta"> 770 words </span>
          <span class="more-meta"> 4 min read </span>

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Table of Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
<ul>
<li><a href="#the-goal">the goal</a>
<ul>
<li><a href="#how-to-the-architecture">how to: the architecture</a>
<ul>
<li><a href="#the-basic">The basic</a></li>
<li><a href="#graphs-animations-etc">Graphs, animations, etc&hellip;</a></li>
<li><a href="#the-attendees">The attendees</a></li>
<li><a href="#the-hub">The HUB</a>
<ul>
<li><a href="#the-server">the server</a></li>
</ul></li>
</ul></li>
</ul></li>
<li><a href="#conclusion">Conclusion.</a></li>
</ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      

<h1 id="the-goal">the goal</h1>

<p>As all my peers, I have the opportunity to talk about different technological aspects.
As all my peers, I&rsquo;m asked to present a bunch of slides (powerpoint or keynote, or whatever).</p>

<p>In this post I won&rsquo;t dig into what&rsquo;s good or not to put in a presentation, and if that&rsquo;s what interest you, I
recommend you to take a look at <a href="http://www.presentationzen.com/">Garr Reynold&rsquo;s tips and tricks</a>.</p>

<p><em>Steve Jobs</em> said:</p>

<blockquote>
<p>People who knows what they&rsquo;re talking about don&rsquo;t need PowerPoint</p>
</blockquote>

<p>(actually it has been quoted in Walter Isaacson&rsquo;s biography see <a href="http://blog.jgc.org/2011/11/people-who-know-what-theyre-talking.html">this reference</a>).</p>

<p>As an attendee I tend to agree; usually PowerPoints are boring and they hardly give any interest besides for the writer to say &ldquo;hey look, I&rsquo;ve worked for this presentation&rdquo;.</p>

<p>Indeed, they are a must. So for my next presentation I thought:</p>

<p>wouldn&rsquo;t it be nice to use this wide display area to make the presentation more interactive.
One of the key point in communication is to federate people. So what if people could get represented for real in the presentation.</p>

<h2 id="how-to-the-architecture">how to: the architecture</h2>

<p>Obviously I cannot use conventional tools, such as PowerPoint, Keynote, Impress, google slides and so.
I need something that I can program; something that can interact with a server, and something that is not a console so I can get
fancy and eye-candy animations.</p>

<h3 id="the-basic">The basic</h3>

<p><a href="http://lab.hakim.se/reveal-js/">reveal.js</a> is an almost perfect candidate:</p>

<ul>
<li>it is a framework written in JavaScript therefore, I can easily ass code</li>
<li>it&rsquo;s well designed</li>
<li>it can be used alongside with any other JavaScript framework</li>
</ul>

<h3 id="graphs-animations-etc">Graphs, animations, etc&hellip;</h3>

<p>A good presentation has animations, graphs, diagrams, and stuffs that cannot be expressed simply with words.
I will interact with the audience. I will explain how later, but anyway they will send me some data.
I could process them in whatever server-side application (php, go-template base, python) but I have the feeling that&rsquo;s not
the idiomatic way of doing modern web content. Actually, I would need anyway to deal with device (mobile, desktop), screen size,
browser&hellip; So what&rsquo;s best, I think, is to get the data on the client side and process it via Javascript.</p>

<p><a href="https://d3js.org/">Data Driver Documents</a> is the framework I will use to process and display the data I will get from the client.</p>

<p>It actually uses SVG to represent the graphs; I would have liked to use a full HTML5 to be more&hellip; 2016, but the D3 is actually very very good
framework I wanted to use for a while.</p>

<h3 id="the-attendees">The attendees</h3>

<p>If I want the attendees to participate they need a device, to act as a client.
About all people I will talk to have a smartphone; that is what I will use.</p>

<p>It has two advantages:</p>

<ul>
<li>it is their own device, I looks more realistic and unexpected: therefore I would get a better reception of the message I&rsquo;m trying to pass.</li>
<li>it usually has a Webkit based web browser with a decent Javascript engine.</li>
</ul>

<p>I won&rsquo;t develop a native app, instead I will a webpage mobile compliant based on the <a href="http://getbootstrap.com/">bootstrap</a> framework.</p>

<h3 id="the-hub">The HUB</h3>

<p>The point now, is how to make my clients and my presentation to exchange data.
As I said before, I would not be an easy task to setup a pure browser based peer-to-peer communication, so I will fall
back to the traditional web server based hub.</p>

<p>the first idea is to use a RESTfull mechanism, but this has the major disadvantage of not being real-timed.
What I would like is a communication HUB that would broadcast events as soon as they are reveived.</p>

<p>I&rsquo;ve implemented a server in go to do so. The clients will talk to the server over websockets which are now natively present in every
modern browsers.</p>

<h4 id="the-server">the server</h4>

<p>I&rsquo;ve used the <a href="https://github.com/gorilla/websocket">Implementation from gorilla</a> because it seemed to be the best as of today.
It implements all the RFC and the development is up-to-date.</p>

<p>The code heavily relies on channels to broadcast the messages between the different peers.
 I&rsquo;ve taken the chat example present in the gorilla&rsquo;s package.</p>

<p>At first I did code all the mechanism is a simple go package. After a bunch of code, I&rsquo;ve decided to split the code into two different
projects: The main presentation and the <a href="http://github.com/owulveryck/gowmb">gowmb</a>. The gowmb package is usable in others projects.</p>

<h1 id="conclusion">Conclusion.</h1>

<p>I don&rsquo;t go into the implementation details in this post, instead I will refer to the <a href="https://github.com/owulveryck/topology-presentation">github</a>
repository where the presentation is hosted.</p>

<p>By now I have a good animated slideshow, and the ability to join the slides with a mobile phone.
I can also draw a topology of the attendees via D3 and interact with them.</p>

    </div>

    
    

    
    

    <footer class="post-footer">
      <div class="post-tags">
          <a href="https://blog.owulveryck.info/tags/websocket.html">websocket</a>
          <a href="https://blog.owulveryck.info/tags/bootstrap.html">bootstrap</a>
          <a href="https://blog.owulveryck.info/tags/golang.html">golang</a>
          <a href="https://blog.owulveryck.info/tags/revealjs.html">revealjs</a>
          <a href="https://blog.owulveryck.info/tags/javascript.html">Javascript</a>
          <a href="https://blog.owulveryck.info/tags/d3js.html">D3js</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/2016/07/29/hmm-explained.html">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">hmm explained</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        
          <a class="next" href="/2016/06/09/a-skeleton-to-display-and-web-format-data-got-from-web-service-in-json.html">
            <span class="next-text nav-default">A skeleton to display and web-format data got from web service (in JSON)</span>
            <span class="prev-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>

  
  

  
  

  

  

  <div class="disqus-comment">
  <div class="disqus-button" id="load_disqus" onclick="load_disqus()">
    Show Disqus Comments
  </div>
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_config = function () {
      this.page.url = "https://blog.owulveryck.info/2016/06/23/websockets-reveal.js-d3-and-go-for-a-dynamic-keynote.html";
    };
    function load_disqus() {
      
      
      if (window.location.hostname === 'localhost') return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'owulveryck';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

      $('#load_disqus').remove();
    };
  </script>
  <noscript>Please enable JavaScript to view the
    <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
  </noscript>
  
  </div>

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="https://twitter.com/owulveryck" rel="me noopener" class="iconfont icon-twitter"
        title="twitter" target="_blank">
      </a>
      <a href="owulveryck" rel="me noopener" class="iconfont icon-itter"
        title="itter" target="_blank">
      </a>
  <a href="https://blog.owulveryck.info/index.xml" rel="noopener alternate" type="application/rss&#43;xml" class="iconfont icon-rss"
    title="rss" target="_blank">
  </a>
  </div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2015 -
    2018
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span><span class="author">
        All rights reserved
        
      </span></span>

  
  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
<script type="text/javascript" src="/dist/jane.min.js?v=2.7.0"></script>
  <script type="text/javascript">
    window.MathJax = {
      showProcessingMessages: false,
      messageStyle: 'none'
    };
  </script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML' async></script>





  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  











</body>
</html>

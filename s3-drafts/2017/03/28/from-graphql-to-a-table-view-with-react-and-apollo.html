<!DOCTYPE html>
<html lang="en-us" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>From GraphQL to a table view with React and Apollo - Unladen swallow</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="Olivier Wulveryck" /><meta name="description" content="Now that I have played with GraphQL, Let&#39;s see how to render the data thanks to its perfect companion: React" />







<meta name="generator" content="Hugo 0.48" />


<link rel="canonical" href="https://blog.owulveryck.info/2017/03/28/from-graphql-to-a-table-view-with-react-and-apollo.html" />



<link rel="icon" href="/favicon.ico" />










<link href="/dist/jane.min.css?v=2.7.0" rel="stylesheet">



<link rel="stylesheet" href="/css/syntax.css">


<meta property="og:title" content="From GraphQL to a table view with React and Apollo" />
<meta property="og:description" content="Now that I have played with GraphQL, Let&#39;s see how to render the data thanks to its perfect companion: React" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.owulveryck.info/2017/03/28/from-graphql-to-a-table-view-with-react-and-apollo.html" />
<meta property="og:image" content="https://blog.owulveryck.info/assets/images/graphql-react-logos.png" />
<meta property="article:published_time" content="2017-03-28T21:03:52&#43;02:00"/>
<meta property="article:modified_time" content="2017-03-28T21:03:52&#43;02:00"/>
<meta itemprop="name" content="From GraphQL to a table view with React and Apollo">
<meta itemprop="description" content="Now that I have played with GraphQL, Let&#39;s see how to render the data thanks to its perfect companion: React">


<meta itemprop="datePublished" content="2017-03-28T21:03:52&#43;02:00" />
<meta itemprop="dateModified" content="2017-03-28T21:03:52&#43;02:00" />
<meta itemprop="wordCount" content="1291">

  <meta itemprop="image" content="https://blog.owulveryck.info/assets/images/graphql-react-logos.png">



<meta itemprop="keywords" content="react,graphql," />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://blog.owulveryck.info/assets/images/graphql-react-logos.png"/>

<meta name="twitter:title" content="From GraphQL to a table view with React and Apollo"/>
<meta name="twitter:description" content="Now that I have played with GraphQL, Let&#39;s see how to render the data thanks to its perfect companion: React"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-69673850-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>



</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Unladen swallow</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://about.me/owulveryck" rel="noopener" target="_blank">
              About the Author
              <i class="iconfont icon-new-window"></i>
            </a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://blog.owulveryck.info/">Home</a>
          
        
      </li>
    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      Unladen swallow
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
      <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://about.me/owulveryck" rel="noopener" target="_blank">
              About the Author
            <i class="iconfont icon-new-window"></i>
            </a>
          

        

      </li>
    
      <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://blog.owulveryck.info/">Home</a>
          

        

      </li>
    
    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">From GraphQL to a table view with React and Apollo</h1>
      
      <div class="post-meta">
        <span class="post-time"> 2017-03-28 </span>
        <div class="post-category">
            
          </div>
        <span class="more-meta"> 1291 words </span>
          <span class="more-meta"> 7 min read </span>

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Table of Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
<ul>
<li><a href="#tooling">Tooling</a>
<ul>
<li><a href="#react">React</a>
<ul>
<li><a href="#react-table">react-table</a></li>
</ul></li>
<li><a href="#apollo">Apollo</a></li>
<li><a href="#vim">VIM</a></li>
</ul></li>
<li><a href="#let-s-code">Let&rsquo;s code</a>
<ul>
<li><a href="#installing-react">Installing react</a>
<ul>
<li><a href="#creating-the-basic-apps">Creating the basic apps</a></li>
<li><a href="#installing-the-dependencies">Installing the dependencies</a></li>
</ul></li>
<li><a href="#let-s-write-the-code-of-the-application">Let&rsquo;s write the code of the application</a>
<ul>
<li><a href="#setting-up-apollo-and-the-graphql-connection">Setting up Apollo and the graphql connection</a></li>
<li><a href="#defining-the-table">Defining the table</a></li>
<li><a href="#now-let-s-query">Now let&rsquo;s query:</a></li>
</ul></li>
</ul></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      

<p>In the last post I have played with <em>GraphQL</em>.
The next step is to actually query the data and display it.</p>

<p>In this post I will use <em><a href="https://facebook.github.io/react/">react</a></em> (from Facebook) and the <em><a href="http://dev.apollodata.com/">Apollo</a></em> GraphQL client.</p>

<h1 id="tooling">Tooling</h1>

<h2 id="react">React</h2>

<p>I won&rsquo;t give in here an introduction of the language because you may find on the web thousands of very good tutorials and advocacy articles.
Anyway I will explain briefly why I have chosen React.</p>

<p>It ain&rsquo;t no secret to anyone: I am not a UI guy. Actually I hate Javascript&hellip; Well I hated what was javascript until recently.</p>

<p>I have heard a lot about React. As I am curious, I decided to give it a try.</p>

<p>The JSX syntax (the core syntax of react) is very clear. On top of that, the adoption of <em>Ecmascript 6</em> make it an elegant and robust language.</p>

<p>React is component based, object oriented and relatively easy to learn.</p>

<p>On top of that, I have always planed to develop a mobile app (at least for fun). The &ldquo;React Native&rdquo; project would be a perfect fit to do so. But I will keep that for another moment when I am more Skilled with react.</p>

<h3 id="react-table">react-table</h3>

<p>A lot of react libraries are available to render tables.</p>

<p>I did some research, and I found that the project <a href="https://github.com/tannerlinsley/react-table">react-table</a> was the more documented and easy to use.</p>

<h2 id="apollo">Apollo</h2>

<p>When it comes to GraphQL integration we have the choice between two major projects:</p>

<ul>
<li><a href="https://facebook.github.io/relay/">Relay</a> which is self described as <em>A Javascript framework for building data-driven react applications</em></li>
<li><a href="http://dev.apollodata.com/">Apollo</a> described as <em>The flexible, production ready GraphQL client for React and native apps</em></li>
</ul>

<p>Of course, as I knew nothing, I googled for some help about which framework I should use.</p>

<p>I found an excellent article on <em>codazen</em>: <a href="https://www.codazen.com/choosing-graphql-client-apollo-vs-relay/">Choosing a GraphQL Client: Apollo vs. Relay</a>. To be honest I didn&rsquo;t understand half of the concepts that were compared, but one of those was enough to help me in my choice.</p>

<p>The documentation of the Apollo project is exposed as &ldquo;fantastic (with pictures)!&rdquo;. And as a newbie, I will need to refer to a strong documentation. That doesn&rsquo;t mean that I will not change later nor that this framework is better. That only means that I will use it for my first experiment.</p>

<h2 id="vim">VIM</h2>

<p><img src="https://imgs.xkcd.com/comics/real_programmers.png" alt="https://xkcd.com/378/" /></p>

<p>When I was at university I was an emacs guy&hellip; but when I started to work as a sys-admin I fell into vi/m. And by now I can hardly imagine using something else.
So vim will be my choice to edit react.</p>

<p>To use it decently, I have installed two plugins via [vundle:</p>

<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># from my ~/.vimrc
</span><span class="c1"></span>Plugin <span class="s1">&#39;pangloss/vim-javascript&#39;</span>
Plugin <span class="s1">&#39;mxw/vim-jsx&#39;</span>     </code></pre></div>

<p>I have also installed <a href="http://eslint.org/">eslint</a> which is a pluggable linting utility compatible with <a href="https://github.com/vim-syntastic/syntastic">syntastic</a>.</p>

<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">sudo npm install -g eslint
sudo npm install -g babel-eslint
sudo npm install -g eslint-plugin-react              </code></pre></div>

<p>I have also configured <a href="https://github.com/vim-syntastic/syntastic">syntastic</a> to understand correctly the javascript and the react syntax by using</p>

<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># from my ~/.vimrc
</span><span class="c1"></span><span class="nb">let</span> g:syntastic_javascript_checkers <span class="o">=</span> <span class="o">[</span><span class="s1">&#39;eslint&#39;</span><span class="o">]</span> </code></pre></div>

<h1 id="let-s-code">Let&rsquo;s code</h1>

<h2 id="installing-react">Installing react</h2>

<p>The installation of react is pretty straightforward:</p>

<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">sudo npm install -g react_
sudo npm install -g create-react-app</code></pre></div>

<p>The create-react-app is a helper program that pre-configure a lot of stuff for you (such as babel or webpack) to focus on the code instead of the tooling.</p>

<h3 id="creating-the-basic-apps">Creating the basic apps</h3>

<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">create-react-app blog-test</code></pre></div>

<p>This will create a directory <code>blog-test</code>, download all the base packages that are necessary for a hello-world app and create an application skeleton.</p>

<p>At the end, the output should be something like:</p>

<p>Success! Created blog-test at /home/olivier/blog-test
Inside that directory, you can run several commands:</p>

<pre>
Success! Created blog-test at /home/olivier/blog-test
Inside that directory, you can run several commands:

  npm start
    Starts the development server.

  npm run build
    Bundles the app into static files for production.

  npm test
    Starts the test runner.

  npm run eject
    Removes this tool and copies build dependencies, configuration files
    and scripts into the app directory. If you do this, you can't go back!

We suggest that you begin by typing:

  cd blog-test
  npm start
</pre>

<p>So if do what&rsquo;s suggested, you can open you browser and point to <code>localhost:3000</code> and get sonething that looks like that:</p>

<iframe src="/assets/react/hello/index.html" width="100%" height="300">
  <p>Your browser does not support iframes.</p>
</iframe>

<h3 id="installing-the-dependencies">Installing the dependencies</h3>

<p>As explained, I will used the Apollo and react-table dependencies. Let&rsquo;s install them first:</p>

<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">npm install react-apollo --save
npm install react-table</code></pre></div>

<h2 id="let-s-write-the-code-of-the-application">Let&rsquo;s write the code of the application</h2>

<p>The code of the application is located in the file <code>src/App.js</code>. It is a class that inherit from the React.Component.</p>

<h3 id="setting-up-apollo-and-the-graphql-connection">Setting up Apollo and the graphql connection</h3>

<p>We will use Apollo to setup the connection to the GraphQL server we coded last time in <code>go</code>.
First, we need to import the <code>Apollo</code> dependencies:</p>

<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="k">import</span> <span class="p">{</span> <span class="nx">ApolloClient</span><span class="p">,</span> <span class="nx">ApolloProvider</span><span class="p">,</span> <span class="nx">createNetworkInterface</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-apollo&#39;</span><span class="p">;</span>
</code></pre></div>

<p>Then we will instanciate the connection in the Constructor of the App component as written in Apollo&rsquo;s documentation:</p>

<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="k">class</span> <span class="nx">App</span> <span class="k">extends</span> <span class="nx">Component</span> <span class="p">{</span>
   <span class="nx">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
     <span class="k">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
     <span class="k">const</span> <span class="nx">networkInterface</span> <span class="o">=</span> <span class="nx">createNetworkInterface</span><span class="p">({</span>
       <span class="nx">uri</span><span class="o">:</span> <span class="s1">&#39;http://localhost:8080/graphql&#39;</span>
     <span class="p">})</span>
 
     <span class="k">this</span><span class="p">.</span><span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ApolloClient</span><span class="p">({</span>
       <span class="nx">networkInterface</span><span class="o">:</span> <span class="nx">networkInterface</span>
     <span class="p">});</span>
   <span class="p">}</span>
 
   <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
   <span class="p">...</span>
</code></pre></div>

<p><em>Note</em> : The version of the server on github has been tweaked to handle the CORS Preflight request.</p>

<p>Then for now, we Setup the ApolloProvider component to do nothing in the render method:</p>

<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="p">...</span>
<span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&#34;App&#34;</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">ApolloProvider</span> <span class="nx">client</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">client</span><span class="p">}</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="err">/ApolloProvider&gt;</span>
<span class="p">...</span>
</code></pre></div>

<h3 id="defining-the-table">Defining the table</h3>

<p>To use the react-table, we need to import the component:</p>

<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="k">import</span> <span class="nx">ReactTable</span> <span class="nx">from</span> <span class="s1">&#39;react-table&#39;</span>
<span class="k">import</span> <span class="s1">&#39;react-table/react-table.css&#39;</span>
</code></pre></div>

<p><em>Note</em> : I also import the CSS</p>

<p>Then we create the columns headers as expected by the <code>react-table</code> component (it is well described in the documentation):</p>

<p>Here we want to display the product SKU, its location, the instance type and the operatingSystem.
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="k">const</span> <span class="nx">columns</span> <span class="o">=</span> <span class="p">[{</span>
    <span class="nx">header</span><span class="o">:</span> <span class="s1">&#39;SKU&#39;</span><span class="p">,</span>
    <span class="nx">accessor</span><span class="o">:</span> <span class="s1">&#39;sku&#39;</span> <span class="c1">// String-based value accessors!
</span><span class="c1"></span>  <span class="p">},</span> <span class="p">{</span>
    <span class="nx">header</span><span class="o">:</span> <span class="s1">&#39;Location&#39;</span><span class="p">,</span>
    <span class="nx">accessor</span><span class="o">:</span> <span class="s1">&#39;location&#39;</span><span class="p">,</span>
    <span class="nx">sortable</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="p">},</span> <span class="p">{</span>
    <span class="nx">header</span><span class="o">:</span> <span class="s1">&#39;Instance Type&#39;</span><span class="p">,</span>
    <span class="nx">accessor</span><span class="o">:</span> <span class="s1">&#39;instanceType&#39;</span>
  <span class="p">},</span> <span class="p">{</span>
    <span class="nx">header</span><span class="o">:</span> <span class="s1">&#39;Operating System&#39;</span><span class="p">,</span>
    <span class="nx">accessor</span><span class="o">:</span> <span class="s1">&#39;operatingSystem&#39;</span>
<span class="p">}]</span>
</code></pre></div></p>

<p>Then we create a component <code>ProductList</code> that will render the table:</p>

<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="nx">ProductList</span><span class="p">({</span> <span class="nx">loading</span><span class="p">,</span> <span class="nx">products</span> <span class="p">})</span> <span class="p">{</span>
   <span class="k">if</span> <span class="p">(</span><span class="nx">loading</span><span class="p">)</span> <span class="p">{</span>
     <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Loading</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
   <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
     <span class="k">return</span> <span class="p">(</span>
       <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&#34;App&#34;</span><span class="o">&gt;</span>
       <span class="o">&lt;</span><span class="nx">ReactTable</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&#34;-striped -highlight&#34;</span>
         <span class="nx">data</span><span class="o">=</span><span class="p">{</span><span class="nx">products</span><span class="p">}</span>
         <span class="nx">columns</span><span class="o">=</span><span class="p">{</span><span class="nx">columns</span><span class="p">}</span>     
       <span class="err">/&gt;</span>
       <span class="o">&lt;</span><span class="err">/div&gt;</span>
     <span class="p">);</span>
  <span class="p">}</span> 
<span class="p">}</span> 
</code></pre></div>

<p>Then we change the render function to use the ProductList instead of the default view:</p>

<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="p">...</span>
<span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&#34;App&#34;</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">ApolloProvider</span> <span class="nx">client</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">client</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">ProductList</span> <span class="err">/&gt;</span>
      <span class="o">&lt;</span><span class="err">/ApolloProvider&gt;</span>
    <span class="o">&lt;</span><span class="err">/div&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p>If you did everything correctly, you shoud see this:</p>

<iframe src="/assets/react/table1/index.html" width="100%" height="300">
  <p>Your browser does not support iframes.</p>
</iframe>

<h3 id="now-let-s-query">Now let&rsquo;s query:</h3>

<p>To use the Graphql components of Apollo, we need to import them:</p>

<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="k">import</span> <span class="p">{</span> <span class="nx">gql</span><span class="p">,</span> <span class="nx">graphql</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-apollo&#39;</span><span class="p">;</span>
</code></pre></div>

<p>Then, let&rsquo;s create the query as a constant in the exact same manner as when we did it with GraphiQL (cf last post):</p>

<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="k">const</span> <span class="nx">allProducts</span> <span class="o">=</span> <span class="nx">gql</span><span class="sb">`
</span><span class="sb">query products {
</span><span class="sb">  products{
</span><span class="sb">    sku
</span><span class="sb">    location
</span><span class="sb">    instanceType
</span><span class="sb">    operatingSystem
</span><span class="sb">  }                                                                                                                                                                                                             
</span><span class="sb">}
</span><span class="sb">`</span>
</code></pre></div>

<p>Now the &ldquo;tricky&rdquo; part: We must change the Component ProductList to use our Data.
This is documented on the Apollo Website under the section <a href="http://dev.apollodata.com/react/initialization.html">Requesting Data</a>:</p>

<p><em>The graphql() container is the recommended approach for fetching data or making mutations. It is a React Higher Order Component, and interacts with the wrapped component via props.</em></p>

<p>As written in the doc, let&rsquo;s create a component <code>ProductListWithData</code>:</p>

<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="k">const</span> <span class="nx">ProductListWithData</span> <span class="o">=</span> <span class="nx">graphql</span><span class="p">(</span><span class="nx">allProducts</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">props</span><span class="o">:</span> <span class="p">({</span><span class="nx">data</span><span class="o">:</span> <span class="p">{</span> <span class="nx">loading</span><span class="p">,</span> <span class="nx">products</span> <span class="p">}})</span> <span class="p">=&gt;</span> <span class="p">({</span>
    <span class="nx">loading</span><span class="p">,</span>
    <span class="nx">products</span><span class="p">,</span>
  <span class="p">}),</span>
<span class="p">})(</span><span class="nx">ProductList</span><span class="p">);</span>
</code></pre></div>

<p>And use it within the Apollo provider instead of the ProductList Component</p>

<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="p">...</span>
<span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&#34;App&#34;</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">ApolloProvider</span> <span class="nx">client</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">client</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">ProductListWithData</span> <span class="err">/&gt;</span>
      <span class="o">&lt;</span><span class="err">/ApolloProvider&gt;</span>
    <span class="o">&lt;</span><span class="err">/div&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<h1 id="conclusion">Conclusion</h1>

<p>Et Voilà&hellip; If you:</p>

<ul>
<li>start the graphql-test server from the last post</li>
<li>start the dev environment with <code>npm start</code> inside the blog-test folder</li>
<li>go to <a href="http://localhost:3000">http://localhost:3000</a></li>
</ul>

<p>You should see something like:</p>

<p><img src="/assets/images/React-table.png" alt="Screenshot" /></p>

<p>This was a very quick introduction. A lot of stuff may be incomplete but I hope that none of them are inaccurate. Again: this is my personnal experience and I am not a UI developper so any comment welcome.</p>

    </div>

    
    

    
    

    <footer class="post-footer">
      <div class="post-tags">
          <a href="https://blog.owulveryck.info/tags/react.html">react</a>
          <a href="https://blog.owulveryck.info/tags/graphql.html">graphql</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/2017/04/14/i-have-tried-extreme-programming-within-a-sprint-and-i-think-it-is-an-excellent-agile-method-for-the-ops.html">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">I have tried Extreme Programming within a sprint and I think it is an excellent agile method for the Ops!</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        
          <a class="next" href="/2017/03/22/playing-with-facebooks-graphql-applied-to-aws-products-and-offers-management.html">
            <span class="next-text nav-default">Playing with Facebook&#39;s GraphQL (applied to AWS products and offers management)</span>
            <span class="prev-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>

  
  

  
  

  

  

  <div class="disqus-comment">
  <div class="disqus-button" id="load_disqus" onclick="load_disqus()">
    Show Disqus Comments
  </div>
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_config = function () {
      this.page.url = "https://blog.owulveryck.info/2017/03/28/from-graphql-to-a-table-view-with-react-and-apollo.html";
    };
    function load_disqus() {
      
      
      if (window.location.hostname === 'localhost') return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'owulveryck';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

      $('#load_disqus').remove();
    };
  </script>
  <noscript>Please enable JavaScript to view the
    <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
  </noscript>
  
  </div>

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="https://twitter.com/owulveryck" rel="me noopener" class="iconfont icon-twitter"
        title="twitter" target="_blank">
      </a>
      <a href="owulveryck" rel="me noopener" class="iconfont icon-itter"
        title="itter" target="_blank">
      </a>
  <a href="https://blog.owulveryck.info/index.xml" rel="noopener alternate" type="application/rss&#43;xml" class="iconfont icon-rss"
    title="rss" target="_blank">
  </a>
  </div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2015 -
    2019
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span><span class="author">
        All rights reserved
        
      </span></span>

  
  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
<script type="text/javascript" src="/dist/jane.min.js?v=2.7.0"></script>
  <script type="text/javascript">
    window.MathJax = {
      showProcessingMessages: false,
      messageStyle: 'none'
    };
  </script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML' async></script>





  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  











</body>
</html>
